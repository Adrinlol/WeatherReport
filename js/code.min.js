window.addEventListener("load",()=>{let e,t,o=document.querySelector(".temperature-description"),n=document.querySelector(".temperature-degree"),r=document.querySelector(".location-timezone"),c=document.querySelector(".temperature span"),a=document.querySelector(".toggle-btn");navigator.geolocation?navigator.geolocation.getCurrentPosition(l=>{e=l.coords.longitude,t=l.coords.latitude;fetch(`https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/c3974de5d9efd62be582169eb6e3138e/${t},${e}`).then(e=>e.json()).then(e=>{const{temperature:t,summary:l,icon:u}=e.currently;n.textContent=t,o.textContent=l,r.textContent=e.timezone;let i=Math.floor(t-32)*(5/9);!function(e,t){const o=new Skycons({color:"white"}),n=e.replace(/-/g,"_").toUpperCase();o.play(),o.set(t,Skycons[n])}(u,document.querySelector(".icon")),a.addEventListener("click",()=>{"°C"===c.textContent?(c.textContent="°F",n.textContent=t):(c.textContent="°C",n.textContent=Math.floor(i))})})}):h1.textContent="Please allow us to get your current location."});